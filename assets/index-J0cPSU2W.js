import{r as S,w as oe}from"./chunk-EF7DTUVF-CZdnL9OO.js";import{j as o}from"./jsx-runtime-BjG_zV1W.js";import{a as re,u as ne,d as ae,S as ie,b as ce,e as le}from"./SoulContext-Cx6BIJGp.js";import{i as $,h,j as N,l as R,B as x,r as de,n as q,w as ue,q as T,m as Y,s as y,y as K,I as W,u as me,k as P,z as fe}from"./polymorphic-factory-DqcCqpcB.js";import{S as C,T as H}from"./Stack-CqRL4CSs.js";import{p as w,U as ge,T as L,L as pe,O as ye,g as xe,P as Z}from"./Loader-BtQaXidS.js";import"./use-force-update-DYUPA38B.js";import"./index-DdXYakGi.js";function ve(s,t){return s in t?w(t[s]):w(s)}function he(s,t){const e=s.map(r=>({value:r,px:ve(r,t)}));return e.sort((r,n)=>r.px-n.px),e}function b(s){return typeof s=="object"&&s!==null?"base"in s?s.base:void 0:s}var A={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const k={orientation:"horizontal"},je=R((s,{borderWidth:t})=>({group:{"--ai-border-width":de(t)}})),M=$((s,t)=>{const e=h("ActionIconGroup",k,s),{className:r,style:n,classNames:c,styles:l,unstyled:i,orientation:f,vars:u,borderWidth:d,variant:a,mod:m,...p}=h("ActionIconGroup",k,s),g=N({name:"ActionIconGroup",props:e,classes:A,className:r,style:n,classNames:c,styles:l,unstyled:i,vars:u,varsResolver:je,rootSelector:"group"});return o.jsx(x,{...g("group"),ref:t,variant:a,mod:[{"data-orientation":f},m],role:"group",...p})});M.classes=A;M.displayName="@mantine/core/ActionIconGroup";const O={},Se=R((s,{radius:t,color:e,gradient:r,variant:n,autoContrast:c,size:l})=>{const i=s.variantColorResolver({color:e||s.primaryColor,theme:s,gradient:r,variant:n||"filled",autoContrast:c});return{groupSection:{"--section-height":T(l,"section-height"),"--section-padding-x":T(l,"section-padding-x"),"--section-fz":ue(l),"--section-radius":t===void 0?void 0:q(t),"--section-bg":e||n?i.background:void 0,"--section-color":i.color,"--section-bd":e||n?i.border:void 0}}}),U=$((s,t)=>{const e=h("ActionIconGroupSection",O,s),{className:r,style:n,classNames:c,styles:l,unstyled:i,vars:f,variant:u,gradient:d,radius:a,autoContrast:m,...p}=h("ActionIconGroupSection",O,s),g=N({name:"ActionIconGroupSection",props:e,classes:A,className:r,style:n,classNames:c,styles:l,unstyled:i,vars:f,varsResolver:Se,rootSelector:"groupSection"});return o.jsx(x,{...g("groupSection"),ref:t,variant:u,...p})});U.classes=A;U.displayName="@mantine/core/ActionIconGroupSection";const be={},Ne=R((s,{size:t,radius:e,variant:r,gradient:n,color:c,autoContrast:l})=>{const i=s.variantColorResolver({color:c||s.primaryColor,theme:s,gradient:n,variant:r||"filled",autoContrast:l});return{root:{"--ai-size":T(t,"ai-size"),"--ai-radius":e===void 0?void 0:q(e),"--ai-bg":c||r?i.background:void 0,"--ai-hover":c||r?i.hover:void 0,"--ai-hover-color":c||r?i.hoverColor:void 0,"--ai-color":i.color,"--ai-bd":c||r?i.border:void 0}}}),I=Y((s,t)=>{const e=h("ActionIcon",be,s),{className:r,unstyled:n,variant:c,classNames:l,styles:i,style:f,loading:u,loaderProps:d,size:a,color:m,radius:p,__staticSelector:g,gradient:v,vars:D,children:B,disabled:j,"data-disabled":G,autoContrast:Te,mod:ee,...se}=e,E=N({name:["ActionIcon",g],props:e,className:r,style:f,classes:A,classNames:l,styles:i,unstyled:n,vars:D,varsResolver:Ne});return o.jsxs(ge,{...E("root",{active:!j&&!u&&!G}),...se,unstyled:n,variant:c,size:a,disabled:j||u,ref:t,mod:[{loading:u,disabled:j||G},ee],children:[o.jsx(L,{mounted:!!u,transition:"slide-down",duration:150,children:te=>o.jsx(x,{component:"span",...E("loader",{style:te}),"aria-hidden":!0,children:o.jsx(pe,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...d})})}),o.jsx(x,{component:"span",mod:{loading:u},...E("icon"),children:B})]})});I.classes=A;I.displayName="@mantine/core/ActionIcon";I.Group=M;I.GroupSection=U;var J={root:"m_7f854edf"};const Ae={position:{bottom:0,right:0},zIndex:xe("modal"),withinPortal:!0},Re=R((s,{zIndex:t,position:e})=>({root:{"--affix-z-index":t==null?void 0:t.toString(),"--affix-top":y(e==null?void 0:e.top),"--affix-left":y(e==null?void 0:e.left),"--affix-bottom":y(e==null?void 0:e.bottom),"--affix-right":y(e==null?void 0:e.right)}})),F=$((s,t)=>{const e=h("Affix",Ae,s),{classNames:r,className:n,style:c,styles:l,unstyled:i,vars:f,portalProps:u,zIndex:d,withinPortal:a,position:m,...p}=e,g=N({name:"Affix",classes:J,props:e,className:n,style:c,classNames:r,styles:l,unstyled:i,vars:f,varsResolver:Re});return o.jsx(ye,{...u,withinPortal:a,children:o.jsx(x,{ref:t,...g("root"),...p})})});F.classes=J;F.displayName="@mantine/core/Affix";var Q={root:"m_9e117634"};const Ie={},Be=R((s,{radius:t,fit:e})=>({root:{"--image-radius":t===void 0?void 0:q(t),"--image-object-fit":e}})),_=Y((s,t)=>{const e=h("Image",Ie,s),{classNames:r,className:n,style:c,styles:l,unstyled:i,vars:f,onError:u,src:d,radius:a,fit:m,fallbackSrc:p,mod:g,...v}=e,[D,B]=S.useState(!d);S.useEffect(()=>B(!d),[d]);const j=N({name:"Image",classes:Q,props:e,className:n,style:c,classNames:r,styles:l,unstyled:i,vars:f,varsResolver:Be});return D&&p?o.jsx(x,{component:"img",ref:t,src:p,...j("root"),onError:u,mod:["fallback",g],...v}):o.jsx(x,{component:"img",ref:t,...j("root"),src:d,onError:G=>{u==null||u(G),B(!0)},mod:g,...v})});_.classes=Q;_.displayName="@mantine/core/Image";function Ge({spacing:s,verticalSpacing:t,cols:e,selector:r}){var d;const n=me(),c=t===void 0?s:t,l=K({"--sg-spacing-x":y(b(s)),"--sg-spacing-y":y(b(c)),"--sg-cols":(d=b(e))==null?void 0:d.toString()}),i=P(n.breakpoints).reduce((a,m)=>(a[m]||(a[m]={}),typeof s=="object"&&s[m]!==void 0&&(a[m]["--sg-spacing-x"]=y(s[m])),typeof c=="object"&&c[m]!==void 0&&(a[m]["--sg-spacing-y"]=y(c[m])),typeof e=="object"&&e[m]!==void 0&&(a[m]["--sg-cols"]=e[m]),a),{}),u=he(P(i),n.breakpoints).filter(a=>P(i[a.value]).length>0).map(a=>({query:`(min-width: ${n.breakpoints[a.value]})`,styles:i[a.value]}));return o.jsx(W,{styles:l,media:u,selector:r})}function z(s){return typeof s=="object"&&s!==null?P(s):[]}function Pe(s){return s.sort((t,e)=>w(t)-w(e))}function Ce({spacing:s,verticalSpacing:t,cols:e}){const r=Array.from(new Set([...z(s),...z(t),...z(e)]));return Pe(r)}function we({spacing:s,verticalSpacing:t,cols:e,selector:r}){var u;const n=t===void 0?s:t,c=K({"--sg-spacing-x":y(b(s)),"--sg-spacing-y":y(b(n)),"--sg-cols":(u=b(e))==null?void 0:u.toString()}),l=Ce({spacing:s,verticalSpacing:t,cols:e}),i=l.reduce((d,a)=>(d[a]||(d[a]={}),typeof s=="object"&&s[a]!==void 0&&(d[a]["--sg-spacing-x"]=y(s[a])),typeof n=="object"&&n[a]!==void 0&&(d[a]["--sg-spacing-y"]=y(n[a])),typeof e=="object"&&e[a]!==void 0&&(d[a]["--sg-cols"]=e[a]),d),{}),f=l.map(d=>({query:`simple-grid (min-width: ${d})`,styles:i[d]}));return o.jsx(W,{styles:c,container:f,selector:r})}var X={container:"m_925c2d2c",root:"m_2415a157"};const _e={cols:1,spacing:"md",type:"media"},V=$((s,t)=>{const e=h("SimpleGrid",_e,s),{classNames:r,className:n,style:c,styles:l,unstyled:i,vars:f,cols:u,verticalSpacing:d,spacing:a,type:m,...p}=e,g=N({name:"SimpleGrid",classes:X,props:e,className:n,style:c,classNames:r,styles:l,unstyled:i,vars:f}),v=fe();return m==="container"?o.jsxs(o.Fragment,{children:[o.jsx(we,{...e,selector:`.${v}`}),o.jsx("div",{...g("container"),children:o.jsx(x,{ref:t,...g("root",{className:v}),...p})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ge,{...e,selector:`.${v}`}),o.jsx(x,{ref:t,...g("root",{className:v}),...p})]})});V.classes=X;V.displayName="@mantine/core/SimpleGrid";const $e=()=>{const{disable:s,myBurdenIsDead:t,enable:e,toggle:r}=re();return ne(t?"[You killed Niko]":"deniz.blue ðŸ’¡"),ae([["r",()=>s("myBurdenIsDead")]]),o.jsx(x,{children:o.jsxs(C,{w:"100%",align:"center",justify:"center",h:"100dvh",gap:4,children:[o.jsx(Z,{className:"frost",p:4,children:o.jsxs(H,{fz:"xs",c:t?"dimmed":"white",children:["My Burden is ",t?"Dead":"Light"]})}),o.jsx(L,{mounted:t,keepMounted:!0,children:n=>o.jsx(_,{style:{userSelect:"none",...n},draggable:!1,src:"/assets/img/detail/oneshot/SunBroken.png",title:"[You broke it.]",w:32,h:32})}),!t&&o.jsx(I,{variant:"subtle",color:"black",onClick:()=>r("myBurdenIsDead"),size:32,children:o.jsx(_,{src:"/assets/img/detail/oneshot/item_start_lightbulb.png",title:"[Be careful.]",w:32,h:32})})]})})},De=({children:s,disabled:t})=>{const e=S.useRef(null),{selectables:r,setSelected:n}=S.useContext(ie);return S.useEffect(()=>{if(t)r.delete(e);else return r.add(e),()=>void r.delete(e)},[e,t]),S.useEffect(()=>{if(!e.current)return;const c=e.current,l=new AbortController,i=l.signal;return c.addEventListener("mouseenter",()=>n(e),{signal:i}),()=>l.abort()},[e]),o.jsx("div",{ref:e,children:s})},Ee=()=>o.jsx(C,{m:"xl",align:"center",children:o.jsx(V,{cols:3,spacing:"xl",children:["DARK","DARKER","YET DARKER","SOUL","SUN","STRAWBERRY"].map((s,t)=>o.jsx(De,{children:o.jsx(Z,{style:{cursor:"pointer"},children:o.jsx(H,{ta:"center",inline:!0,span:!0,ff:"monospace",c:"white",children:s})})},t))})}),Ye=oe(function(){const[{type:t}]=ce();return o.jsxs(x,{children:[t=="oneshot"&&o.jsx($e,{}),t=="depth"&&o.jsx(Ee,{}),o.jsx(ze,{})]})}),ze=()=>{const{toggle:s,musicPopout:t}=le(),e=!t;return o.jsx(F,{position:{bottom:5,right:5},children:o.jsx(L,{mounted:e,transition:"fade-up",keepMounted:!0,children:r=>o.jsx(C,{gap:0,style:r,children:o.jsx(C,{gap:5,align:"end"})})})})};export{Ye as default};
