import{a as o,p as d,R as y}from"./chunk-OIYGIGL5-BegmyU-M.js";import{a as L}from"./LanguageContext-ZQ0K-jIK.js";const j={" ":"space",ArrowLeft:"arrowleft",ArrowRight:"arrowright",ArrowUp:"arrowup",ArrowDown:"arrowdown",Escape:"escape",Esc:"escape",esc:"escape",Enter:"enter",Tab:"tab",Backspace:"backspace",Delete:"delete",Insert:"insert",Home:"home",End:"end",PageUp:"pageup",PageDown:"pagedown","+":"plus","-":"minus","*":"asterisk","/":"slash"};function g(t){const e=t.replace("Key","").toLowerCase();return j[t]||e}function v(t){const e=t.toLowerCase().split("+").map(u=>u.trim()),s={alt:e.includes("alt"),ctrl:e.includes("ctrl"),meta:e.includes("meta"),mod:e.includes("mod"),shift:e.includes("shift"),plus:e.includes("[plus]")},n=["alt","ctrl","meta","shift","mod"],r=e.find(u=>!n.includes(u));return{...s,key:r==="[plus]"?"+":r}}function D(t,e,s){const{alt:n,ctrl:r,meta:u,mod:c,shift:a,key:f}=t,{altKey:i,ctrlKey:p,metaKey:l,shiftKey:m,key:h,code:x}=e;if(n!==i)return!1;if(c){if(!p&&!l)return!1}else if(r!==p||u!==l)return!1;return a!==m?!1:!!(f&&(s?g(x)===g(f):g(h??x)===g(f)))}function K(t,e){return s=>D(v(t),s,e)}function R(t,e,s=!1){return t.target instanceof HTMLElement?(s||!t.target.isContentEditable)&&!e.includes(t.target.tagName):!0}function I(t,e=["INPUT","TEXTAREA","SELECT"],s=!1){o.useEffect(()=>{const n=r=>{t.forEach(([u,c,a={preventDefault:!0,usePhysicalKeys:!1}])=>{K(u,a.usePhysicalKeys)(r)&&R(r,e,s)&&(a.preventDefault&&r.preventDefault(),c(r))})};return document.documentElement.addEventListener("keydown",n),()=>document.documentElement.removeEventListener("keydown",n)},[t])}const W=()=>o.useContext(L),O=t=>{const{language:e}=W(),r=t[e].split(/(#\w+#)/).map((u,c)=>{if(u[0]=="#"&&u[u.length-1]=="#"){const a=u.substring(1,u.length-1);return a in t||console.warn(`[@alan404/react-localization > Localized] Interpolation with key '${a}' not defined in props. If this is intentional, define it in props with undefined or null.`),d.jsx(o.Fragment,{children:t[a]},c)}else return d.jsx("span",{children:u},c)});return d.jsx(o.Fragment,{children:r})},w={farewellBackground:!0,displayName:!0,displayDiscordGuild:!0,displayAboutMe:!0,displayPreviousWork:!0,displayBadges:!0,displayFeaturedProjects:!0,displayFriends:!0,displayNeoFetch:!0,displayUptime:!0,myBurdenIsDead:!1},E=o.createContext({...w,enable:()=>{},disable:()=>{},toggle:()=>{}}),V=({children:t})=>{const[e,s]=o.useState(w),n=c=>s(a=>({...a,[c]:!0})),r=c=>s(a=>({...a,[c]:!1})),u=c=>s(a=>({...a,[c]:!a[c]}));return d.jsx(E.Provider,{value:{...e,enable:n,disable:r,toggle:u},children:t})},G=()=>o.useContext(E),k={showTerminal:!1,showDevice:!1,showPamphlet:!1,showPamphletV2:!0,showWD:!1,rain:!1},S=o.createContext([k,()=>{}]),X=({children:t})=>{const[e,s]=o.useState(k);return d.jsx(S.Provider,{value:[e,n=>s({...e,...n})],children:t})},$=()=>o.useContext(S),A={type:"oneshot"},P=o.createContext([A,()=>{}]),q=({children:t})=>{const[e,s]=o.useState(A);return I([["1",()=>s({type:"starfield"})],["2",()=>s({type:"depth"})],["3",()=>s({type:"man"})],["0",()=>s({type:"null"})],["4",()=>s({type:"oneshot"})]]),d.jsx(P.Provider,{value:[e,s],children:t})},J=()=>o.useContext(P),b=t=>{let e;const s=new Set,n=(i,p)=>{const l=typeof i=="function"?i(e):i;if(!Object.is(l,e)){const m=e;e=p??(typeof l!="object"||l===null)?l:Object.assign({},e,l),s.forEach(h=>h(e,m))}},r=()=>e,a={setState:n,getState:r,getInitialState:()=>f,subscribe:i=>(s.add(i),()=>s.delete(i))},f=e=t(n,r,a);return a},H=(t=>t?b(t):b),N=t=>t;function T(t,e=N){const s=y.useSyncExternalStore(t.subscribe,y.useCallback(()=>e(t.getState()),[t,e]),y.useCallback(()=>e(t.getInitialState()),[t,e]));return y.useDebugValue(s),s}const C=t=>{const e=H(t),s=n=>T(e,n);return Object.assign(s,e),s},Q=(t=>t?C(t):C),B=o.createContext({current:null}),Y=({children:t})=>{const e=o.useRef(null);return o.useEffect(()=>(e.current=new AudioContext,()=>void e.current?.close()),[]),d.jsx(B.Provider,{value:e,children:t})},F=()=>o.useContext(B),z=t=>{const e=F(),s=o.useRef(null);return o.useEffect(()=>{e.current&&fetch(t).then(n=>n.arrayBuffer()).then(n=>e.current.decodeAudioData(n)).then(n=>{s.current=n,console.log("Loaded",t)}).catch(console.error)},[e.current,t]),s},Z=t=>{const e=F(),s=z(t);return{play:o.useCallback(()=>{if(!e.current||!s.current)return;e.current.state=="suspended"&&e.current.resume();const r=e.current.createBufferSource();r.buffer=s.current,r.connect(e.current.destination),r.start(0)},[e])}};export{X as A,q as B,V as F,O as L,Y as W,J as a,$ as b,Q as c,Z as d,I as e,W as f,G as u};
