import{a as A,p as l,w as _,q,O as K}from"./chunk-OIYGIGL5-BegmyU-M.js";import{u as $,a as ee,b as te,L as N,c as ne,d as L,e as re,B as se,W as oe,F as ae,A as ie}from"./useSoundEffect-BQyYp8Zp.js";import{U as le}from"./UIContext-BGc0Cfn9.js";import{u as j,L as ce}from"./LanguageContext-ZQ0K-jIK.js";import{u as ue}from"./use-isomorphic-effect-D7BgZGdG.js";import{a as B,C as fe}from"./notifications.store-DWqYuqHE.js";import"./factory-D-_w0BPq.js";import"./polymorphic-factory-D0OnTv5j.js";function W(e){ue(()=>{typeof e=="string"&&e.trim().length>0&&(document.title=e.trim())},[e])}const de="/assets/IMAGE_DEPTH_4-O8gd5XC3.png",Ae="/assets/AUDIO_ANOTHERHIM-D8FEBsaZ.ogg",he=e=>d(e,e),d=(e,n)=>typeof e=="object"&&e!==null?{x:e.x||0,y:e.y||0}:{x:e||0,y:n||0},I=e=>typeof e=="object"&&e?d(e):he(e),k=(...e)=>e.map(I).reduce((n,t)=>d(n.x+t.x,n.y+t.y)),M=(...e)=>e.map(I).reduce((n,t)=>d(n.x*t.x,n.y*t.y)),ge=(e,n)=>k(e,M(n,-1)),me=(e,n)=>{let t=I(e),r=I(n);return d(t.x/r.x,t.y/r.y)};d(0,0);d(1,1);const we=(e,n)=>{const t=A.useRef(e);t.current=e,A.useEffect(()=>{let r=performance.now();const s=()=>{performance.now()-r>=n&&(t.current(),r=performance.now()),i=requestAnimationFrame(s)};let i=requestAnimationFrame(s);return()=>{cancelAnimationFrame(i)}},[])},G=(e,n={})=>{const t=A.useRef(null),r=A.useRef(null),s=A.useRef(null),i=o=>{let{x:a,y:u}=typeof n.size=="function"?n.size(o):d(n.size?.x&&n.size?.x>0?n.size?.x:o.clientWidth,n.size?.y&&n.size?.y>0?n.size?.y:o.clientHeight);o.width=a,o.height=u};A.useEffect(()=>{const o=t.current;if(!o)return;i(o);const a=o.getContext("2d",{alpha:!0,desynchronized:!0});return a?(r.current=a,s.current=e(a),()=>{s.current?.destroy?.(),r.current=null}):n?.onFail?.()},[e,t]);const c=A.useCallback(()=>{s.current?.update?.(1),r.current&&r.current.clearRect(0,0,r.current.canvas.width,r.current.canvas.height),s.current?.draw()},[n.noClear]);we(c,n.delay||30);const m=A.useCallback(()=>{t.current&&i(t.current)},[t,n.size]);return j("resize",m),{ref:t}},O=()=>{const e=A.useRef(null),n=A.useCallback(()=>{e.current?.play().catch(()=>{})},[e]);return j("click",n,{once:!0}),e};class ye{siner;alpha;xstretch;ystretch;o_insurance;depth;b_insurance;OBSPEED;constructor(){this.siner=0,this.alpha=.2,this.xstretch=1,this.ystretch=1,this.o_insurance=0,this.depth=4,this.OBSPEED=.02,this.b_insurance=-.2}destroy(){}step(){this.siner+=1,this.OBSPEED>0&&(this.alpha=Math.sin(this.siner/34)*.2),this.ystretch+=this.OBSPEED,this.xstretch+=this.OBSPEED,this.b_insurance<0&&(this.b_insurance+=.01),this.ystretch>2&&(this.o_insurance+=.01,this.o_insurance>=.5&&this.destroy())}shouldDraw(){return this.siner<150&&this.siner>2}getAlpha(){return Math.max(0,.2+this.alpha-this.o_insurance+this.b_insurance)}}const xe=()=>{W("ARE WE CONNECTED?");const e=A.useCallback(r=>{let s=[],i=new Image;i.src=de;let c=0,m=0,o=.5;return{update(){if(c+=1,m+=o,m>=20){let a=new ye;a.depth=5+c,a.OBSPEED=.01*o,a.destroy=()=>s=s.filter(u=>u!==a),s.unshift(a),c>=6e4&&(c=0),m=0}for(let a of s)a.step()},draw(){if(i.complete)for(let a of s){if(!a.shouldDraw())continue;let u=a.getAlpha();r.globalAlpha=u;const h=i.width*a.xstretch,w=i.height*a.ystretch;r.drawImage(i,160-h/2,120-w/2,h,w)}}}},[]),{ref:n}=G(e,{size:d(320,240)}),t=O();return l.jsxs("div",{className:"pageBackground",children:[l.jsx("canvas",{className:"pageBackground",style:{objectFit:"cover",imageRendering:"crisp-edges"},ref:n}),l.jsx("audio",{src:Ae,ref:t,autoPlay:!0,loop:!0})]})},pe="/assets/tree-DOnJeJ13.gif",Pe="/assets/man-DVTDGMKe.ogg",Ee=()=>{const e=O();return W("* "),l.jsxs("div",{className:"pageBackground",children:[l.jsx("div",{className:"fullscreen",style:{backgroundImage:`url("${pe}")`,backgroundPosition:"center center",backgroundRepeat:"no-repeat"}}),l.jsx("audio",{src:Pe,loop:!0,autoPlay:!0,ref:e})]})},V=()=>{let e=49734321;return()=>(e=e+2127912214+(e<<12)&4294967295,e=(e^3345072700^e>>>19)&4294967295,e=e+374761393+(e<<5)&4294967295,e=(e+3550635116^e<<9)&4294967295,e=e+4251993797+(e<<3)&4294967295,e=(e^3042594569^e>>>16)&4294967295,(e&268435455)/268435456)},ve=()=>{const{myBurdenIsDead:e}=$(),n=r=>[1,-1].map(s=>Array(500).fill(0).map((i,c)=>{const m=r()/2*100*s+(s==-1?100:0),o=`${m}%`,a=Math.abs(m-50)/50,w=2+a*10;if(r()>a)return null;const E=a*.5,x=r();return{key:s*(c+1),color:s*(r()>.2?1:-1)>0?"#97257a":"#7463aa",size:w,top:o,left:r()*110-5+"%",opacity:E,animrand:x,dir:s}})).flat().filter(s=>!!s),t=A.useMemo(()=>n(V()),[]);return l.jsxs("div",{className:"scrollableBackground fullSize",style:{backgroundImage:"linear-gradient(#250630, #63173d)"},children:[t.map(({key:r,size:s,color:i,top:c,left:m,opacity:o,animrand:a,dir:u})=>l.jsx("div",{className:"oneshot-square",style:{backgroundColor:i,opacity:o,width:s,height:s,position:"absolute",top:c,left:m,"--animrand":a*100+"ms","--dir":u}},r)),l.jsx("img",{src:"/assets/img/detail/oneshot/NikoPromoTransparent.png",style:{position:"absolute",bottom:"calc(-60px)",maxHeight:"200px",maxWidth:"70vw",marginLeft:"1rem"}}),l.jsx("div",{className:"pageBackground",style:{opacity:e?1:0,backgroundColor:"black",zIndex:2},children:l.jsx("img",{src:"/assets/img/detail/oneshot/NikoDead.png",style:{position:"absolute",bottom:"0px",maxHeight:"200px",maxWidth:"80vw",marginLeft:"1rem"}})}),l.jsx("div",{id:"jackenstein-jackolantern"})]})},R=(e=1)=>Math.round(Math.random()*e),De=e=>e[R(e.length-1)],ke="/assets/rain-XCcjA8b9.ogg",be=["#0000FF","#0055EE","#0a205a","#0515a6"],Ce=()=>{const e=A.useCallback(r=>{let s=new Set,i=d(),c=.4;const m=.002;return{update(o){for(let u of s)u.y+u.size*3>=r.canvas.height?(u.y=r.canvas.height,u.splash>1?s.delete(u):u.splash+=m*u.vy*o):(u.vy+=u.sinkSpeed*.03*o,u.x+=i.x*o,u.y+=u.vy*o+i.y*o);let a=Math.floor(c*r.canvas.width);for(;s.size<a;)s.add({x:R(r.canvas.width),y:-R(r.canvas.height*2),vy:0+Math.random(),color:De(be),sinkSpeed:R(15)+15,size:R(2)+3,splash:0,alpha:Math.random()+.1})},draw(){for(let o of s)if(r.fillStyle=o.color,r.globalAlpha=o.alpha,o.splash){const a=o.size*2,u=o.size*2,h=-1,x=(g=>y=>h*Math.pow(y-g.x,2)+g.y)(d(1,1))(o.splash*2)*u,P=o.size/2*(1.5-o.splash),f=o.size/2;r.fillRect(o.x+o.splash*a,o.y-x-f,P,P),r.fillRect(o.x-o.splash*a,o.y-x-f,P,P)}else r.fillRect(o.x,o.y,o.size/2,o.size*2+o.vy*.1)}}},[]),{ref:n}=G(e,{}),t=O();return l.jsxs("div",{className:"fullscreen",children:[l.jsx("canvas",{className:"fullscreen",ref:n}),l.jsx("audio",{src:ke,ref:t,loop:!0,autoPlay:!0})]})},Be=()=>{const e=A.useCallback(t=>{t.lineWidth=1,t.imageSmoothingEnabled=!1;const r="#5A0D36",s="#6E1244",i="#290427",c="#4B092E",m="#2A0428",o="#B1184B",a="#1E021F",u="#FF59BE",h=(f,g,y,p)=>{t.fillStyle=y,t.fillRect(f.x,f.y,g.x,g.y),p&&(t.strokeStyle=p,t.strokeRect(f.x+.5,f.y+.5,g.x,g.y))},w=(f,g,y,p,v,S)=>{for(let b=0;b<y.x;b++)for(let D=0;D<y.y;D++)h(k(f,M(k(g,p),d(b,D))),g,v,S)},E=(f,g,y)=>{t.save(),t.globalAlpha=.5;let p=t.createRadialGradient(f.x,f.y,0,f.x,f.y,y);p.addColorStop(0,g+"ff"),p.addColorStop(1,g+"00"),t.beginPath(),t.fillStyle=p,t.arc(f.x,f.y,y,0,Math.PI*2,!1),t.fill(),t.restore()},x=({pos:f,padding:g,windowSize:y,windowSpacing:p,windowAmount:v,color:S,outlineColor:b,windowColor:D,windowUnderlineColor:C,windowLitIndicies:T,windowLitColor:Q,windowLitSize:J})=>{const z=d(g.x+y.x*v.x+p.x*(v.x-1)+g.x,t.canvas.height-f.y-1);if(h(f,z,S,b),w(k(f,g),y,v,p,D),C&&w(k(f,g,d(0,y.y)),d(y.x,1),v,d(p.x,p.y+y.y-1),C),Q&&T?.length&&J)for(let F of T){let H=M(d(F%v.x,Math.floor(F/v.y)),k(y,p)),Z=k(f,g,H,me(y,2));E(Z,u,15),h(k(f,g,H),y,Q)}return{buildingSize:z}},P=({x:f,y:g,hl:y,frontWindowAmount:p,sideWindowAmount:v})=>{const D=Math.floor(t.canvas.height/14)-5,{buildingSize:C}=x({pos:d(f,g),padding:d(4,12),color:r,outlineColor:s,windowColor:m,windowSize:d(8,9),windowSpacing:d(5,5),windowAmount:d(p,D),windowUnderlineColor:o,windowLitColor:u,windowLitSize:15,windowLitIndicies:y});return x({pos:d(C.x+f+1,g),padding:d(4,12),color:i,outlineColor:c,windowColor:a,windowSize:d(4,9),windowSpacing:d(3,5),windowAmount:d(v,D)}),{frontSize:C}};return{draw(){t.lineJoin="miter",t.lineCap="square",t.strokeStyle="blue";let f=V(),g=4;for(let y of Array(20).fill(0)){let p=[...new Set(Array(5).fill(0).map(()=>Math.floor(f()*1e3)))],{frontSize:v}=P({x:g,y:t.canvas.height-Math.floor(t.canvas.height*f()*.7),frontWindowAmount:5,sideWindowAmount:3,hl:p});g+=v.x,g+=f()>.9?50:0,g+=4}}}},[]),{ref:n}=G(e,{delay:500,size:t=>{const s=480/t.clientHeight*t.clientWidth;return d(s,480)}});return l.jsx("div",{className:"pageBackground",children:l.jsx("canvas",{className:"pageBackground",style:{imageRendering:"crisp-edges",backgroundImage:"linear-gradient(#18031A, #23051F, #3B0929)"},ref:n})})},X=d(320,180),Re=A.memo(()=>{const[e,n]=A.useState(!1);return A.useEffect(()=>{const t=requestAnimationFrame(()=>n(!0));return()=>cancelAnimationFrame(t)},[]),l.jsx("div",{className:"pageBackground",style:{backgroundImage:"url('/assets/img/detail/sky.png')",backgroundRepeat:"repeat",backgroundAttachment:"fixed"},children:e&&l.jsx(je,{})})}),je=()=>{const e=A.useRef(null),n=A.useRef(null);return A.useRef(null),A.useEffect(()=>{let t=new AbortController,r=t.signal;const s=requestAnimationFrame(()=>{if(r.aborted)return;const i=e.current;if(!i)return;i.width=i.clientWidth,i.height=i.clientHeight;const c=i.transferControlToOffscreen(),m=new Worker(new URL("/assets/effects.worker-DQ-p0nJE.js",import.meta.url),{type:"module"});m.postMessage({type:"init",data:c},[c]),n.current=m,window.addEventListener("scroll",()=>{m.postMessage({type:"scroll",data:d(0,window.scrollY)})},{signal:r})});return()=>{cancelAnimationFrame(s),n.current?.terminate(),t.abort(),n.current=null}},[]),j("resize",()=>{const t=e.current;t&&n.current?.postMessage({type:"dimensionsChange",data:d(t.clientWidth,t.clientHeight)})}),l.jsx("canvas",{ref:e,className:"fullscreenDynamic",style:{objectFit:"contain",aspectRatio:X.x/X.y,imageRendering:"pixelated"}})},Se=()=>{const[{type:e}]=ee(),[{rain:n}]=te();return l.jsxs("div",{style:{position:"absolute",zIndex:-1,pointerEvents:"none",width:"100%",height:"100%",inset:0,minHeight:"100svh"},children:[n&&l.jsx(Ce,{}),e==="starfield"&&l.jsx(Re,{}),e==="oneshot"&&l.jsx(ve,{}),e==="depth"&&l.jsx(xe,{}),e==="man"&&l.jsx(Ee,{}),e==="refuge"&&l.jsx(Be,{})]})},Ie=A.createContext({ref:{current:null},analyser:{current:null},audioContext:{current:null},currentSong:null,loading:!0,playing:!1,changeCurrentSong:()=>{}}),Me=[{title:"Fear of the Unknown",artist:"Lena Raine",cover:"celestefarewell.jpg",file:"Fear of the Unknown.mp3"},{title:"world.execute(me);",artist:"Mili",cover:"miraclemilk.jpg",file:"worldexecuteme.m4a"},{title:"Confessions of a Rotten Girl",artist:"SAWTOWNE",cover:"ConfessionsOfARottenGirl.png",file:"ConfessionsOfARottenGirl.mp3"},{title:"Medicine",romanji:"Igaku",artist:"Sasuke Haraguchi",originalTitle:"イガク",cover:"igaku.png",file:"igaku.mp3"},{title:"Flower of Transformation",romanji:"Bake no Hana",originalTitle:"化けの花",artist:"NAKISO",cover:"mizu5.png",file:"bakenohana.mp3"},{title:"Substitute",romanji:"Hitogawari",originalTitle:"ヒトガワリ",artist:"KikuoHana",file:"hitogawari.mp3",cover:"kikuohana2.png"},{title:"Take Me To The Beach (feat. Ado)",file:"TakeMeToTheBeach.mp3",cover:"TakeMeToTheBeach.png",artist:"Imagine Dragons"},{title:"A Fool Moon Night",artist:"THE KOXX",cover:"thekoxx.png",file:"afoolmoonnight.mp3"}],Ge=({children:e})=>{const n=A.useRef(null),t=A.useRef(null),r=A.useRef(null),[s,i]=A.useState(null),[c,m]=A.useState(!1),[o,a]=A.useState(!1);A.useEffect(()=>{let h=new Audio;return n.current=h,()=>{t.current?.close(),h.pause(),h.remove(),n.current=null}},[]),A.useEffect(()=>{if(!n.current)return;const h=new AbortController,{signal:w}=h;return n.current.addEventListener("playing",()=>{B.hide("music-error")},{signal:w}),()=>h.abort()},[]),A.useEffect(()=>{if(!n.current)return;const h=new AbortController,{signal:w}=h;return n.current.addEventListener("ended",()=>{if(!s)return;const E=Me;let x=E.indexOf(s);if(x==-1)return;let P=x+1;P>=E.length&&(P=0);let f=E[P];f&&i(f)},{signal:w}),()=>h.abort()},[s]),A.useEffect(()=>{if(s)return B.show({id:"music-nowplaying",title:l.jsx(N,{en:"Now Playing",tr:"Şimdi Çalıyor"}),message:s.title}),()=>void B.hide("music-nowplaying");B.hide("music-nowplaying")},[s]);const u=()=>{n.current?.play().then(()=>{t.current=new AudioContext;let h=t.current.createMediaElementSource(n.current);r.current=t.current.createAnalyser(),h.connect(r.current),h.connect(t.current.destination)}).catch(h=>{if(h instanceof DOMException&&h.name=="NotAllowedError"){B.show({id:"music-error",message:l.jsx(N,{en:"Can't play music, please click anywhere",tr:"Müzik çalınamıyor, herhangi bir yere tıklayın"}),autoClose:!1,position:"top-center",color:"yellow"});const w=()=>u();window.addEventListener("click",w,{once:!0})}})};return A.useEffect(()=>{n.current&&(n.current.pause(),n.current.src=s?`/assets/music/${s.file}`:"",s&&u())},[s]),l.jsx(Ie.Provider,{value:{ref:n,loading:c,playing:o,currentSong:s,analyser:r,audioContext:t,changeCurrentSong:i},children:e})},Oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAALRJREFUOBHtk0sSgCAMQ8Hx/ldWBFNDqfxGdrrpN4/IqHOLHv/CPag/tWOJGAq+3mvumAJW0QLSOG7sOCxfzgrBpN3IBPgVquHsFDNEwELtNzS/jnsvsObUYixz/IPlupddBX166Qe5jhz9AhgS5LFkx2oubzWSCEMSUothSWjIqRJnJTuGJltAsxELTdEggBiW5B4qkSrTkuUYbFOAoX3GM+0Ra8NQV7XVIQghanivjhAfpSe9CxcmJTWuYwAAAABJRU5ErkJggg==",Te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAAAAAAAAPlDu38AAAAHdElNRQfpCAoOASJktxbgAAAA6UlEQVQ4y9WTIQ7CQBBFXwmqWGpBo6u5CdwBzQHQWDTcBF2NBguWWjAz4bMM7Ur4yaZN+/flZaeFX0/hN4/XszUwAu7ARks5nRS4AuZSPgLbRCLsOGgoxQUwA2optwbYCqxOOjfbe0iBEwNWQGmrTuwcpp0ZcPaCAqdSwq6VAXYCrJJOaXs/gFEUSgILkwMsgTGZGeQWc6OGZzkPPctvaW2dkKGo4cVeXq3Yl9a6J9sLxH/KntcgIlM3awy4VFA0lMaAE+KpupkD31KkDzpMHRaaRUPpM6XL7Kthh6kDl10b+z5sNXXgn+cJ6No9ST9X3LMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjUtMDgtMTBUMTQ6MDE6MzQrMDA6MDABpoTaAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDI1LTA4LTEwVDE0OjAxOjM0KzAwOjAwcPs8ZgAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyNS0wOC0xMFQxNDowMTozNCswMDowMCfuHbkAAAAASUVORK5CYII=",Y=ne()((e,n)=>({ref:{current:null}})),Qe=()=>{const{ref:e}=Y();return l.jsxs("div",{id:"SOUL",ref:e,children:[l.jsx("div",{className:"soul heart",style:{backgroundImage:`url("${Oe}")`}}),l.jsx("div",{className:"soul blur",style:{backgroundImage:`url("${Te}")`}})]})},ze=({providers:e,children:n})=>l.jsx(l.Fragment,{children:e.reduceRight((t,r)=>l.jsx(r,{children:t}),n)}),U=(e,{pos:n,zIndex:t,opacity:r,blur:s})=>{n&&(e.style.transform=`translate(${n.x-11}px, ${n.y-11+window.scrollY}px)`),t!==void 0&&(e.style.zIndex=t?t.toString():""),r!==void 0&&(e.style.opacity=r.toString()),e.style.setProperty("--blur",s?"1":"0")},Fe=e=>{const n=e.getBoundingClientRect(),t=32,r=window.innerWidth,s=window.innerHeight;let i=0,c=0;n.left<t?i=n.left-t:n.right>r-t&&(i=n.right-(r-t)),n.top<t?c=n.top-t:n.bottom>s-t&&(c=n.bottom-(s-t)),(i!==0||c!==0)&&window.scrollBy({left:i,top:c,behavior:"smooth"})},He=e=>{let n=e.getAttribute("data-soul-anchor")||"center",t=e.getBoundingClientRect(),r=!!e.getAttribute("data-soul-blur");const s=(P,f)=>{let g=e.getAttribute(P);return g!==null&&!isNaN(Number(g))?Number(g):f};let i=s("data-soul-z",0);const c=4;let m=s("data-soul-mt",c),o=s("data-soul-mb",c),a=s("data-soul-ml",c),u=s("data-soul-mr",c),h="center",w="center";if(n!="center"){if(n?.includes("-")){let[P,f]=n.split("-");h=P.replace("left","start").replace("right","end"),w=f.replace("top","start").replace("bottom","end")}}let E;if(h=="center")E=t.x+t.width/2+u-a;else if(h=="start")E=t.x-a;else if(h=="end")E=t.x+t.width+u;else throw new Error("Invalid state");let x;if(w=="center")x=t.y+t.height/2+m-o;else if(w=="start")x=t.y-m;else if(w=="end")x=t.y+t.height+o;else throw new Error("Invalid state");return{pos:d(E,x),zIndex:i,blur:r}};function Ne(e,n,t){const r=e?.getBoundingClientRect(),s=r?d(r.left+r.width/2,r.top+r.height/2):d();let i=n.map(a=>{if(a==e)return null;const u=a.getBoundingClientRect(),h=d(u.left+u.width/2,u.top+u.height/2),w=ge(h,s),E=Math.hypot(w.x,w.y);let x=Math.atan2(w.y,w.x);const P=["right","down","left","up"][Math.round((x+Math.PI*2)%(Math.PI*2)/(Math.PI/2))%4];return{node:a,delta:w,dist:E,angle:x,direction:P}}).filter(a=>a!==null).sort((a,u)=>a.dist-u.dist);const c=i.filter(a=>{if(t=="down")return a.delta.y>0;if(t=="up")return a.delta.y<0;if(t=="left")return a.delta.x<0;if(t=="right")return a.delta.x>0}),m=c.find(a=>a.direction=="up"||a.direction=="down"?a.delta.x==0:a.delta.y==0);return m&&i.indexOf(m)<4?m.node:c[0]?.node??null}const Le="data:audio/wav;base64,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",Xe="/assets/UndertaleMenuDecision-DoSLgTJY.wav",Ue=()=>{const{ref:e}=Y(),{play:n}=L(Le),{play:t}=L(Xe),r=A.useRef(null),s=()=>{if(!document.activeElement?.classList.contains("soulSelectable"))return;let c=r.current,m=c!==document.activeElement;if(r.current=document.activeElement??null,m&&c?.removeAttribute("data-soul-selected"),r.current?.setAttribute("data-soul-selected","true"),!!e.current)if(r.current){m&&n(),r.current.focus();const{...o}=He(r.current);U(e.current,{opacity:1,...o})}else U(e.current,{pos:d(),opacity:0})},i=c=>{const m=[...document.querySelectorAll(".soulSelectable")],o=Ne(r.current,m,c);o&&(Fe(o),o.focus(),s())};return re([["ArrowUp",()=>i("up")],["w",()=>i("up")],["ArrowDown",()=>i("down")],["s",()=>i("down")],["ArrowLeft",()=>i("left")],["a",()=>i("left")],["ArrowRight",()=>i("right")],["d",()=>i("right")],["Enter",()=>{let c=r.current?.firstChild;c&&(t(),c.click())}]]),j("keydown",()=>{setTimeout(s,0)}),j("keyup",()=>{setTimeout(s,0)}),null},$e=_(function(){return l.jsxs(ze,{providers:[se,oe,ae,ie,le,Ge],children:[l.jsx(Se,{}),l.jsx(Qe,{}),l.jsx(Ue,{}),l.jsx(K,{})]})}),et=q(function(){return l.jsx(fe,{my:"xl",h:"90vh",children:l.jsx(ce,{})})});export{et as HydrateFallback,$e as default};
