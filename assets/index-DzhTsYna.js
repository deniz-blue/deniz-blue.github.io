import{r as c,w as T}from"./chunk-QMGIS6GS-CucUpDno.js";import{j as s}from"./jsx-runtime-BjG_zV1W.js";import{u as B,a as M,L}from"./MusicPlayerContext-YDoh4Pee.js";import"./LanguageContext-DpyevvSK.js";import{u as E,P as R}from"./Paper-yBzHFVNP.js";import{u as C,O as K,g as D,T as h}from"./Transition-Bdq2c1-4.js";import{l as I,i as N,j as z,B as y,m as H,s as m}from"./polymorphic-factory-BJ4uqfO3.js";import{S as b}from"./Stack-BY2rq-T_.js";import{T as O}from"./Text-D1P4lNXs.js";import{c as U,I as P,A,T as _}from"./createReactComponent-CmmfxzRr.js";import{B as q}from"./Button-BinK-5EI.js";import"./random-id-CQPYUG5g.js";import"./index-BeuVnBmP.js";import"./Loader-CgbTrfKH.js";function Y(r){C(()=>{typeof r=="string"&&r.trim().length>0&&(document.title=r.trim())},[r])}function j(){return typeof window<"u"?{x:window.pageXOffset,y:window.pageYOffset}:{x:0,y:0}}function F({x:r,y:e}){if(typeof window<"u"){const t={behavior:"smooth"};typeof r=="number"&&(t.left=r),typeof e=="number"&&(t.top=e),window.scrollTo(t)}}function W(){const[r,e]=c.useState({x:0,y:0});return E("scroll",()=>e(j())),E("resize",()=>e(j())),c.useEffect(()=>{e(j())},[]),[r,F]}const X={" ":"space",ArrowLeft:"arrowleft",ArrowRight:"arrowright",ArrowUp:"arrowup",ArrowDown:"arrowdown",Escape:"esc",Esc:"esc",Enter:"enter",Tab:"tab",Backspace:"backspace",Delete:"delete",Insert:"insert",Home:"home",End:"end",PageUp:"pageup",PageDown:"pagedown","+":"plus","-":"minus","*":"asterisk","/":"slash"};function p(r){const e=r.replace("Key","").toLowerCase();return X[r]||e}function V(r){const e=r.toLowerCase().split("+").map(o=>o.trim()),t={alt:e.includes("alt"),ctrl:e.includes("ctrl"),meta:e.includes("meta"),mod:e.includes("mod"),shift:e.includes("shift"),plus:e.includes("[plus]")},i=["alt","ctrl","meta","shift","mod"],n=e.find(o=>!i.includes(o));return{...t,key:n==="[plus]"?"+":n}}function Z(r,e,t){const{alt:i,ctrl:n,meta:o,mod:a,shift:l,key:u}=r,{altKey:w,ctrlKey:x,metaKey:f,shiftKey:v,key:k,code:d}=e;if(i!==w)return!1;if(a){if(!x&&!f)return!1}else if(n!==x||o!==f)return!1;return l!==v?!1:!!(u&&(t?p(d)===p(u):p(k??d)===p(u)))}function G(r,e){return t=>Z(V(r),t,e)}function J(r,e,t=!1){return r.target instanceof HTMLElement?(t||!r.target.isContentEditable)&&!e.includes(r.target.tagName):!0}function Q(r,e=["INPUT","TEXTAREA","SELECT"],t=!1){c.useEffect(()=>{const i=n=>{r.forEach(([o,a,l={preventDefault:!0,usePhysicalKeys:!1}])=>{G(o,l.usePhysicalKeys)(n)&&J(n,e,t)&&(l.preventDefault&&n.preventDefault(),a(n))})};return document.documentElement.addEventListener("keydown",i),()=>document.documentElement.removeEventListener("keydown",i)},[r])}var S={root:"m_7f854edf"};const $={position:{bottom:0,right:0},zIndex:D("modal"),withinPortal:!0},ee=H((r,{zIndex:e,position:t})=>({root:{"--affix-z-index":e==null?void 0:e.toString(),"--affix-top":m(t==null?void 0:t.top),"--affix-left":m(t==null?void 0:t.left),"--affix-bottom":m(t==null?void 0:t.bottom),"--affix-right":m(t==null?void 0:t.right)}})),g=I((r,e)=>{const t=N("Affix",$,r),{classNames:i,className:n,style:o,styles:a,unstyled:l,vars:u,portalProps:w,zIndex:x,withinPortal:f,position:v,...k}=t,d=z({name:"Affix",classes:S,props:t,className:n,style:o,classNames:i,styles:a,unstyled:l,vars:u,varsResolver:ee});return s.jsx(K,{...w,withinPortal:f,children:s.jsx(y,{ref:e,...d("root"),...k})})});g.classes=S;g.displayName="@mantine/core/Affix";/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var te=U("outline","arrow-up","IconArrowUp",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]]);function re(r){const e=c.useRef(null),t=c.useRef(null),[i,n]=c.useState(!1),o=c.useCallback(async()=>{if(!(!e.current||!t.current))try{await Promise.all([e.current.play(),t.current.play()]),n(!1)}catch{n(!0)}},[]);return c.useEffect(()=>{const a=new Audio("/assets/audio/oneshot/MyBurdenIsLight.ogg"),l=new Audio("/assets/audio/oneshot/MyBurdenIsDead.ogg");return a.loop=l.loop=!0,e.current=a,t.current=l,o(),()=>{a.pause(),l.pause()}},[o]),c.useEffect(()=>{!e.current||!t.current||(e.current.volume=r?0:1,t.current.volume=r?1:0)},[r]),{interactionRequired:i,play:o}}const se=()=>{const{disable:r,myBurdenIsDead:e,enable:t,toggle:i}=B();let{interactionRequired:n,play:o}=re(e);return E("click",()=>o()),Y(e?"[You killed Niko]":"deniz.blue ðŸ’¡"),Q([["r",()=>r("myBurdenIsDead")]]),s.jsxs(y,{children:[s.jsxs(b,{w:"100%",align:"center",justify:"center",h:"100dvh",gap:4,children:[s.jsx(R,{className:"frost",p:4,children:s.jsxs(O,{fz:"xs",c:e?"dimmed":"white",children:["My Burden is ",e?"Dead":"Light"]})}),s.jsx(h,{mounted:e,keepMounted:!0,children:a=>s.jsx(P,{style:{userSelect:"none",...a},draggable:!1,src:"/assets/img/detail/oneshot/SunBroken.png",title:"[You broke it.]",w:32,h:32})}),!e&&s.jsx(A,{variant:"subtle",color:"black",onClick:()=>i("myBurdenIsDead"),size:32,children:s.jsx(P,{src:"/assets/img/detail/oneshot/item_start_lightbulb.png",title:"[Be careful.]",w:32,h:32})})]}),s.jsx(g,{position:{bottom:5,right:5},children:s.jsx(h,{mounted:n,transition:"fade-up",keepMounted:!0,children:a=>s.jsx(q,{style:a,variant:"light",color:"gray",onClick:o,children:"Audio blocked"})})})]})},xe=T(function(){return s.jsxs(y,{children:[s.jsx(se,{}),s.jsx(ne,{})]})}),ne=()=>{const{toggle:r,musicPopout:e}=M(),[t,i]=W(),n=!e;return s.jsx(g,{position:{bottom:5,right:5},children:s.jsx(h,{mounted:n,transition:"fade-up",keepMounted:!0,children:o=>s.jsx(b,{gap:0,style:o,children:s.jsx(b,{gap:5,align:"end",children:s.jsx(h,{mounted:t.y>50,transition:"fade",keepMounted:!0,children:a=>s.jsx(y,{style:a,children:s.jsx(_,{label:s.jsx(L,{en:"Back to top",tr:"Ãœste git"}),position:"left",withArrow:!0,withinPortal:!1,children:s.jsx(A,{onClick:()=>i({y:0}),variant:"light",size:"lg",children:s.jsx(te,{})})})})})})})})})};export{xe as default};
