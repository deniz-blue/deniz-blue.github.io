import{a as f}from"./chunk-C37GKA54-CfDO-w_Y.js";import{r as d}from"./LanguageContext-BwzRQnqe.js";function l(t){let o=t,i=!1;const e=new Set;return{getState(){return o},updateState(n){o=typeof n=="function"?n(o):n},setState(n){this.updateState(n),e.forEach(s=>s(o))},initialize(n){i||(o=n,i=!0)},subscribe(n){return e.add(n),()=>e.delete(n)}}}function S(t){return f.useSyncExternalStore(t.subscribe,()=>t.getState(),()=>t.getState())}function p(t,o,i){const e=[],n=[],s={};for(const c of t){const r=c.position||o;s[r]=s[r]||0,s[r]+=1,s[r]<=i?n.push(c):e.push(c)}return{notifications:n,queue:e}}const m=()=>l({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),u=m(),x=(t=u)=>S(t);function a(t,o){const i=t.getState(),e=o([...i.notifications,...i.queue]),n=p(e,i.defaultPosition,i.limit);t.setState({notifications:n.notifications,queue:n.queue,limit:i.limit,defaultPosition:i.defaultPosition})}function h(t,o=u){const i=t.id||d();return a(o,e=>t.id&&e.some(n=>n.id===t.id)?e:[...e,{...t,id:i}]),i}function N(t,o=u){return a(o,i=>i.filter(e=>e.id===t?(e.onClose?.(e),!1):!0)),t}function g(t,o=u){return a(o,i=>i.map(e=>e.id===t.id?{...e,...t}:e)),t.id}function b(t=u){a(t,()=>[])}function q(t=u){a(t,o=>o.slice(0,t.getState().limit))}const E={show:h,hide:N,update:g,clean:b,cleanQueue:q,updateState:a};export{E as a,N as h,u as n,x as u};
