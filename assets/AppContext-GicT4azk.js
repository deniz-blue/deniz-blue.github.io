import{u as I,L}from"./LanguageContext-DtNrKFvb.js";import{j as w}from"./jsx-runtime-D_zvdyIk.js";import{a}from"./chunk-C37GKA54-CfDO-w_Y.js";const y=()=>{};function se(t){I(()=>{typeof t=="string"&&t.trim().length>0&&(document.title=t.trim())},[t])}const H={" ":"space",ArrowLeft:"arrowleft",ArrowRight:"arrowright",ArrowUp:"arrowup",ArrowDown:"arrowdown",Escape:"escape",Esc:"escape",esc:"escape",Enter:"enter",Tab:"tab",Backspace:"backspace",Delete:"delete",Insert:"insert",Home:"home",End:"end",PageUp:"pageup",PageDown:"pagedown","+":"plus","-":"minus","*":"asterisk","/":"slash"};function E(t){const e=t.replace("Key","").toLowerCase();return H[t]||e}function z(t){const e=t.toLowerCase().split("+").map(c=>c.trim()),n={alt:e.includes("alt"),ctrl:e.includes("ctrl"),meta:e.includes("meta"),mod:e.includes("mod"),shift:e.includes("shift"),plus:e.includes("[plus]")},r=["alt","ctrl","meta","shift","mod"],u=e.find(c=>!r.includes(c));return{...n,key:u==="[plus]"?"+":u}}function O(t,e,n){const{alt:r,ctrl:u,meta:c,mod:s,shift:o,key:d}=t,{altKey:i,ctrlKey:l,metaKey:f,shiftKey:P,key:D,code:x}=e;if(r!==i)return!1;if(s){if(!l&&!f)return!1}else if(u!==l||c!==f)return!1;return o!==P?!1:!!(d&&(n?E(x)===E(d):E(D??x)===E(d)))}function X(t,e){return n=>O(z(t),n,e)}function M(t,e,n=!1){return t.target instanceof HTMLElement?(n||!t.target.isContentEditable)&&!e.includes(t.target.tagName):!0}function m(t,e=["INPUT","TEXTAREA","SELECT"],n=!1){a.useEffect(()=>{const r=u=>{t.forEach(([c,s,o={preventDefault:!0,usePhysicalKeys:!1}])=>{X(c,o.usePhysicalKeys)(u)&&M(u,e,n)&&(o.preventDefault&&u.preventDefault(),s(u))})};return document.documentElement.addEventListener("keydown",r),()=>document.documentElement.removeEventListener("keydown",r)},[t])}const U=()=>a.useContext(L),oe=t=>{const{language:e}=U(),u=t[e].split(/(#\w+#)/).map((c,s)=>{if(c[0]=="#"&&c[c.length-1]=="#"){const o=c.substring(1,c.length-1);return o in t||console.warn(`[@alan404/react-localization > Localized] Interpolation with key '${o}' not defined in props. If this is intentional, define it in props with undefined or null.`),w.jsx(a.Fragment,{children:t[o]},s)}else return w.jsx("span",{children:c},s)});return w.jsx(a.Fragment,{children:u})},C={farewellBackground:!0,displayName:!0,displayDiscordGuild:!0,displayAboutMe:!0,displayPreviousWork:!0,displayBadges:!0,displayFeaturedProjects:!0,displayFriends:!0,displayNeoFetch:!0,displayUptime:!0,myBurdenIsDead:!1},B=a.createContext({...C,enable:()=>{},disable:()=>{},toggle:()=>{}}),ce=({children:t})=>{const[e,n]=a.useState(C),r=s=>n(o=>({...o,[s]:!0})),u=s=>n(o=>({...o,[s]:!1})),c=s=>n(o=>({...o,[s]:!o[s]}));return w.jsx(B.Provider,{value:{...e,enable:r,disable:u,toggle:c},children:t})},ae=()=>a.useContext(B),b={musicPopout:!1},Q=a.createContext({...b,enable:()=>{},disable:()=>{},toggle:()=>{}}),ue=({children:t})=>{const[e,n]=a.useState(b),r=s=>n(o=>({...o,[s]:!0})),u=s=>n(o=>({...o,[s]:!1})),c=s=>n(o=>({...o,[s]:!o[s]}));return w.jsx(Q.Provider,{value:{...e,enable:r,disable:u,toggle:c},children:t})},le=()=>a.useContext(Q),k={type:"starfield"},S=a.createContext([k,()=>{}]),ie=({children:t})=>{const[e,n]=a.useState(k);return m([["1",()=>n({type:"starfield"})],["2",()=>n({type:"depth"})],["3",()=>n({type:"man"})],["0",()=>n({type:"null"})],["4",()=>n({type:"oneshot"})]]),w.jsx(S.Provider,{value:[e,n],children:t})},fe=()=>a.useContext(S),N=t=>g(t,t),g=(t,e)=>typeof t=="object"&&t!==null?{x:t.x||0,y:t.y||0}:{x:t||0,y:e||0},j=t=>typeof t=="object"&&t?g(t):N(t),V=(...t)=>t.map(j).reduce((e,n)=>g(e.x+n.x,e.y+n.y)),K=(...t)=>t.map(j).reduce((e,n)=>g(e.x*n.x,e.y*n.y)),Y=(t,e)=>V(t,K(e,-1));g(0,0);g(1,1);const F=a.createContext({current:null}),de=({children:t})=>{const e=a.useRef(null);return a.useEffect(()=>(e.current=new AudioContext,()=>void e.current?.close()),[]),w.jsx(F.Provider,{value:e,children:t})},G=()=>a.useContext(F),Z=t=>{const e=G(),n=a.useRef(null);return a.useEffect(()=>{e.current&&fetch(t).then(r=>r.arrayBuffer()).then(r=>e.current.decodeAudioData(r)).then(r=>{n.current=r,console.log("Loaded",t)}).catch(console.error)},[e.current,t]),n},v=t=>{const e=G(),n=Z(t);return{play:a.useCallback(()=>{if(!e.current||!n.current)return;e.current.state=="suspended"&&e.current.resume();const u=e.current.createBufferSource();u.buffer=n.current,u.connect(e.current.destination),u.start(0)},[e])}},h=(t,{pos:e,zIndex:n,opacity:r})=>{e&&(t.style.transform=`translate(${e.x-11}px, ${e.y-11+window.scrollY}px)`),n!==void 0&&(t.style.zIndex=n?n.toString():""),r!==void 0&&(t.style.opacity=r.toString())},W=t=>{const e=t.getBoundingClientRect(),n=32,r=window.innerWidth,u=window.innerHeight;let c=0,s=0;e.left<n?c=e.left-n:e.right>r-n&&(c=e.right-(r-n)),e.top<n?s=e.top-n:e.bottom>u-n&&(s=e.bottom-(u-n)),(c!==0||s!==0)&&window.scrollBy({left:c,top:s,behavior:"smooth"})},J=t=>{let e=t.getAttribute("data-pos")||"center",n=t.getBoundingClientRect();const r=(x,A)=>{let p=t.getAttribute(x);return p!==null&&!isNaN(Number(p))?Number(p):A};let u=r("data-zindex",0);const c=4;let s=r("data-mt",c),o=r("data-mb",c),d=r("data-ml",c),i=r("data-mr",c),l="center",f="center";if(e!="center"){if(e?.includes("-")){let[x,A]=e.split("-");l=x.replace("left","start").replace("right","end"),f=A.replace("top","start").replace("bottom","end")}}let P;if(l=="center")P=n.x+n.width/2+i-d;else if(l=="start")P=n.x-d;else if(l=="end")P=n.x+n.width+i;else throw new Error("Invalid state");let D;if(f=="center")D=n.y+n.height/2+s-o;else if(f=="start")D=n.y-s;else if(f=="end")D=n.y+n.height+o;else throw new Error("Invalid state");return{pos:g(P,D),zIndex:u}};function q(t,e,n){const r=t?.getBoundingClientRect(),u=r?g(r.left+r.width/2,r.top+r.height/2):g(),s=e.map(i=>{if(i==t)return null;const l=i.getBoundingClientRect(),f=g(l.left+l.width/2,l.top+l.height/2),P=Y(f,u),D=Math.hypot(P.x,P.y);let x=Math.atan2(P.y,P.x);const A=["right","down","left","up"][Math.round((x+Math.PI*2)%(Math.PI*2)/(Math.PI/2))%4];return{node:i,delta:P,dist:D,angle:x,direction:A}}).filter(i=>i!==null).sort((i,l)=>i.dist-l.dist).filter(i=>{if(n=="down")return i.delta.y>0;if(n=="up")return i.delta.y<0;if(n=="left")return i.delta.x<0;if(n=="right")return i.delta.x>0}),o=s.find(i=>i.direction=="up"||i.direction=="down"?i.delta.x==0:i.delta.y==0);return o?o.node:s[0]?.node??null}const $="data:audio/wav;base64,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",_="/assets/UndertaleMenuDecision-DoSLgTJY.wav",ee=a.createContext({ref:{current:null},selectables:[],setSelected:y,registerSelectable:y}),Pe=({children:t})=>{const e=a.useRef(null),[n,r]=a.useState([]),{play:u}=v($),{play:c}=v(_),s=a.useRef(null),o=l=>{let f=s.current!==l;if(s.current=l??null,console.log("SELECTED",s),console.log("SOUL",e),!!e.current)if(s.current){f&&u();const{pos:P,zIndex:D}=J(s.current);h(e.current,{pos:P,opacity:1,zIndex:D})}else h(e.current,{pos:g(),opacity:0})},d=l=>{const f=q(s.current,n,l);f&&(o(f),f&&W(f))};m([["ArrowUp",()=>d("up")],["w",()=>d("up")],["ArrowDown",()=>d("down")],["s",()=>d("down")],["ArrowLeft",()=>d("left")],["a",()=>d("left")],["ArrowRight",()=>d("right")],["d",()=>d("right")],["Enter",()=>{let l=s.current?.firstChild;l&&(c(),l.click())}]]),a.useEffect(()=>{console.log("selectables updated",n),s.current&&!n.includes(s.current)&&(console.log("deselecting removed selectable"),o(null))},[n]);const i=a.useCallback(l=>{const f=new AbortController,P=f.signal;return r(D=>D.includes(l)?D:[...D,l]),l.addEventListener("mouseenter",()=>o(l),{signal:P}),()=>{r(D=>D.filter(x=>x!==l)),f.abort()}},[]);return w.jsx(ee.Provider,{value:{ref:e,selectables:n,registerSelectable:i,setSelected:o},children:t})},R={showTerminal:!1,showDevice:!1,showPamphlet:!0},T=a.createContext([R,()=>{}]),De=({children:t})=>{const[e,n]=a.useState(R);return w.jsx(T.Provider,{value:[e,r=>n({...e,...r})],children:t})},xe=()=>a.useContext(T);export{De as A,ie as B,ce as F,oe as L,ee as S,ue as U,de as W,ae as a,fe as b,Pe as c,m as d,xe as e,v as f,le as g,se as u,g as v};
