import{r as x,w as S}from"./chunk-EF7DTUVF-pxdf6ITT.js";import{j as r}from"./jsx-runtime-BjG_zV1W.js";import{a as B,u as D,b as K,c as L,L as C}from"./MusicPlayerContext-4BNy-b-i.js";import"./LanguageContext-DM0QwpTO.js";import{h as M,i as N,j as I,B as p,l as z,t as d}from"./polymorphic-factory-Cf4ufNdz.js";import{S as k}from"./Stack-kUQKh7ZZ.js";import{u as P,P as H}from"./Paper-CBwfadVZ.js";import{T as O}from"./Text-C88O44a6.js";import{O as R,g as U,T as j}from"./Transition-D7P6Vrr-.js";import{I as v}from"./Image-DHPU1VLF.js";import{c as _,A,T as Y}from"./createReactComponent-BEkSZTJI.js";import"./use-isomorphic-effect-BNO9nc8e.js";import"./index-Ca0lzQfQ.js";import"./Loader-Dc6-c2fC.js";function w(){return typeof window<"u"?{x:window.pageXOffset,y:window.pageYOffset}:{x:0,y:0}}function F({x:s,y:e}){if(typeof window<"u"){const t={behavior:"smooth"};typeof s=="number"&&(t.left=s),typeof e=="number"&&(t.top=e),window.scrollTo(t)}}function W(){const[s,e]=x.useState({x:0,y:0});return P("scroll",()=>e(w())),P("resize",()=>e(w())),x.useEffect(()=>{e(w())},[]),[s,F]}const X={" ":"space",ArrowLeft:"arrowleft",ArrowRight:"arrowright",ArrowUp:"arrowup",ArrowDown:"arrowdown",Escape:"esc",Esc:"esc",Enter:"enter",Tab:"tab",Backspace:"backspace",Delete:"delete",Insert:"insert",Home:"home",End:"end",PageUp:"pageup",PageDown:"pagedown","+":"plus","-":"minus","*":"asterisk","/":"slash"};function m(s){const e=s.replace("Key","").toLowerCase();return X[s]||e}function V(s){const e=s.toLowerCase().split("+").map(a=>a.trim()),t={alt:e.includes("alt"),ctrl:e.includes("ctrl"),meta:e.includes("meta"),mod:e.includes("mod"),shift:e.includes("shift"),plus:e.includes("[plus]")},n=["alt","ctrl","meta","shift","mod"],o=e.find(a=>!n.includes(a));return{...t,key:o==="[plus]"?"+":o}}function Z(s,e,t){const{alt:n,ctrl:o,meta:a,mod:l,shift:i,key:c}=s,{altKey:h,ctrlKey:y,metaKey:u,shiftKey:E,key:g,code:f}=e;if(n!==h)return!1;if(l){if(!y&&!u)return!1}else if(o!==y||a!==u)return!1;return i!==E?!1:!!(c&&(t?m(f)===m(c):m(g??f)===m(c)))}function q(s,e){return t=>Z(V(s),t,e)}function G(s,e,t=!1){return s.target instanceof HTMLElement?(t||!s.target.isContentEditable)&&!e.includes(s.target.tagName):!0}function J(s,e=["INPUT","TEXTAREA","SELECT"],t=!1){x.useEffect(()=>{const n=o=>{s.forEach(([a,l,i={preventDefault:!0,usePhysicalKeys:!1}])=>{q(a,i.usePhysicalKeys)(o)&&G(o,e,t)&&(i.preventDefault&&o.preventDefault(),l(o))})};return document.documentElement.addEventListener("keydown",n),()=>document.documentElement.removeEventListener("keydown",n)},[s])}var T={root:"m_7f854edf"};const Q={position:{bottom:0,right:0},zIndex:U("modal"),withinPortal:!0},$=z((s,{zIndex:e,position:t})=>({root:{"--affix-z-index":e==null?void 0:e.toString(),"--affix-top":d(t==null?void 0:t.top),"--affix-left":d(t==null?void 0:t.left),"--affix-bottom":d(t==null?void 0:t.bottom),"--affix-right":d(t==null?void 0:t.right)}})),b=M((s,e)=>{const t=N("Affix",Q,s),{classNames:n,className:o,style:a,styles:l,unstyled:i,vars:c,portalProps:h,zIndex:y,withinPortal:u,position:E,...g}=t,f=I({name:"Affix",classes:T,props:t,className:o,style:a,classNames:n,styles:l,unstyled:i,vars:c,varsResolver:$});return r.jsx(R,{...h,withinPortal:u,children:r.jsx(p,{ref:e,...f("root"),...g})})});b.classes=T;b.displayName="@mantine/core/Affix";/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]],te=_("outline","arrow-up","ArrowUp",ee),se=()=>{const{disable:s,myBurdenIsDead:e,enable:t,toggle:n}=B();return D(e?"[You killed Niko]":"deniz.blue ðŸ’¡"),J([["r",()=>s("myBurdenIsDead")]]),r.jsx(p,{children:r.jsxs(k,{w:"100%",align:"center",justify:"center",h:"100dvh",gap:4,children:[r.jsx(H,{className:"frost",p:4,children:r.jsxs(O,{fz:"xs",c:e?"dimmed":"white",children:["My Burden is ",e?"Dead":"Light"]})}),r.jsx(j,{mounted:e,keepMounted:!0,children:o=>r.jsx(v,{style:{userSelect:"none",...o},draggable:!1,src:"/assets/img/detail/oneshot/SunBroken.png",title:"[You broke it.]",w:32,h:32})}),!e&&r.jsx(A,{variant:"subtle",color:"black",onClick:()=>n("myBurdenIsDead"),size:32,children:r.jsx(v,{src:"/assets/img/detail/oneshot/item_start_lightbulb.png",title:"[Be careful.]",w:32,h:32})})]})})},we=S(function(){const[{type:e}]=K();return r.jsxs(p,{children:[e=="oneshot"&&r.jsx(se,{}),r.jsx(re,{})]})}),re=()=>{const{toggle:s,musicPopout:e}=L(),[t,n]=W(),o=!e;return r.jsx(b,{position:{bottom:5,right:5},children:r.jsx(j,{mounted:o,transition:"fade-up",keepMounted:!0,children:a=>r.jsx(k,{gap:0,style:a,children:r.jsx(k,{gap:5,align:"end",children:r.jsx(j,{mounted:t.y>50,transition:"fade",keepMounted:!0,children:l=>r.jsx(p,{style:l,children:r.jsx(Y,{label:r.jsx(C,{en:"Back to top",tr:"Ãœste git"}),position:"left",withArrow:!0,withinPortal:!1,children:r.jsx(A,{onClick:()=>n({y:0}),variant:"light",size:"lg",children:r.jsx(te,{})})})})})})})})})};export{we as default};
