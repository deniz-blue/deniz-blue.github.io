import{u as I,b as H,L}from"./LanguageContext-BwzRQnqe.js";import{j as w}from"./jsx-runtime-D_zvdyIk.js";import{a as i}from"./chunk-C37GKA54-CfDO-w_Y.js";const z=()=>{};function ie(t){I(()=>{typeof t=="string"&&t.trim().length>0&&(document.title=t.trim())},[t])}const O={" ":"space",ArrowLeft:"arrowleft",ArrowRight:"arrowright",ArrowUp:"arrowup",ArrowDown:"arrowdown",Escape:"escape",Esc:"escape",esc:"escape",Enter:"enter",Tab:"tab",Backspace:"backspace",Delete:"delete",Insert:"insert",Home:"home",End:"end",PageUp:"pageup",PageDown:"pagedown","+":"plus","-":"minus","*":"asterisk","/":"slash"};function y(t){const e=t.replace("Key","").toLowerCase();return O[t]||e}function M(t){const e=t.toLowerCase().split("+").map(u=>u.trim()),r={alt:e.includes("alt"),ctrl:e.includes("ctrl"),meta:e.includes("meta"),mod:e.includes("mod"),shift:e.includes("shift"),plus:e.includes("[plus]")},n=["alt","ctrl","meta","shift","mod"],s=e.find(u=>!n.includes(u));return{...r,key:s==="[plus]"?"+":s}}function X(t,e,r){const{alt:n,ctrl:s,meta:u,mod:o,shift:c,key:a}=t,{altKey:f,ctrlKey:l,metaKey:d,shiftKey:P,key:h,code:D}=e;if(n!==f)return!1;if(o){if(!l&&!d)return!1}else if(s!==l||u!==d)return!1;return c!==P?!1:!!(a&&(r?y(D)===y(a):y(h??D)===y(a)))}function U(t,e){return r=>X(M(t),r,e)}function N(t,e,r=!1){return t.target instanceof HTMLElement?(r||!t.target.isContentEditable)&&!e.includes(t.target.tagName):!0}function C(t,e=["INPUT","TEXTAREA","SELECT"],r=!1){i.useEffect(()=>{const n=s=>{t.forEach(([u,o,c={preventDefault:!0,usePhysicalKeys:!1}])=>{U(u,c.usePhysicalKeys)(s)&&N(s,e,r)&&(c.preventDefault&&s.preventDefault(),o(s))})};return document.documentElement.addEventListener("keydown",n),()=>document.documentElement.removeEventListener("keydown",n)},[t])}function p(t){if(t instanceof Set)return t;const e=new Set;for(const r of t)e.add(r);return e}function V(t){const e=i.useRef(new Set(t)),r=H();return e.current.add=(...n)=>{const s=Set.prototype.add.apply(e.current,n);return r(),s},e.current.clear=(...n)=>{Set.prototype.clear.apply(e.current,n),r()},e.current.delete=(...n)=>{const s=Set.prototype.delete.apply(e.current,n);return r(),s},e.current.union=n=>{const s=new Set(e.current);return p(n).forEach(u=>s.add(u)),s},e.current.intersection=n=>{const s=new Set,u=p(n);return e.current.forEach(o=>{u.has(o)&&s.add(o)}),s},e.current.difference=n=>{const s=new Set,u=p(n);return e.current.forEach(o=>{u.has(o)||s.add(o)}),s},e.current.symmetricDifference=n=>{const s=new Set,u=p(n);return e.current.forEach(o=>{u.has(o)||s.add(o)}),u.forEach(o=>{e.current.has(o)||s.add(o)}),s},e.current}const K=()=>i.useContext(L),le=t=>{const{language:e}=K(),s=t[e].split(/(#\w+#)/).map((u,o)=>{if(u[0]=="#"&&u[u.length-1]=="#"){const c=u.substring(1,u.length-1);return c in t||console.warn(`[@alan404/react-localization > Localized] Interpolation with key '${c}' not defined in props. If this is intentional, define it in props with undefined or null.`),w.jsx(i.Fragment,{children:t[c]},o)}else return w.jsx("span",{children:u},o)});return w.jsx(i.Fragment,{children:s})},B={farewellBackground:!0,displayName:!0,displayDiscordGuild:!0,displayAboutMe:!0,displayPreviousWork:!0,displayBadges:!0,displayFeaturedProjects:!0,displayFriends:!0,displayNeoFetch:!0,displayUptime:!0,myBurdenIsDead:!1},b=i.createContext({...B,enable:()=>{},disable:()=>{},toggle:()=>{}}),fe=({children:t})=>{const[e,r]=i.useState(B),n=o=>r(c=>({...c,[o]:!0})),s=o=>r(c=>({...c,[o]:!1})),u=o=>r(c=>({...c,[o]:!c[o]}));return w.jsx(b.Provider,{value:{...e,enable:n,disable:s,toggle:u},children:t})},de=()=>i.useContext(b),Q={musicPopout:!1},S=i.createContext({...Q,enable:()=>{},disable:()=>{},toggle:()=>{}}),Pe=({children:t})=>{const[e,r]=i.useState(Q),n=o=>r(c=>({...c,[o]:!0})),s=o=>r(c=>({...c,[o]:!1})),u=o=>r(c=>({...c,[o]:!c[o]}));return w.jsx(S.Provider,{value:{...e,enable:n,disable:s,toggle:u},children:t})},xe=()=>i.useContext(S),k={type:"starfield"},F=i.createContext([k,()=>{}]),we=({children:t})=>{const[e,r]=i.useState(k);return C([["1",()=>r({type:"starfield"})],["2",()=>r({type:"depth"})],["3",()=>r({type:"man"})],["0",()=>r({type:"null"})],["4",()=>r({type:"oneshot"})]]),w.jsx(F.Provider,{value:[e,r],children:t})},De=()=>i.useContext(F),Y=t=>x(t,t),x=(t,e)=>typeof t=="object"&&t!==null?{x:t.x||0,y:t.y||0}:{x:t||0,y:e||0},A=t=>typeof t=="object"&&t?x(t):Y(t),W=(...t)=>t.map(A).reduce((e,r)=>x(e.x+r.x,e.y+r.y)),Z=(...t)=>t.map(A).reduce((e,r)=>x(e.x*r.x,e.y*r.y)),J=(t,e)=>W(t,Z(e,-1)),q=(t,e)=>{let r=A(t),n=A(e);return Math.sqrt((r.x-n.x)**2+(r.y-n.y)**2)};x(0,0);x(1,1);const j=i.createContext({current:null}),he=({children:t})=>{const e=i.useRef(null);return i.useEffect(()=>(e.current=new AudioContext,()=>void e.current?.close()),[]),w.jsx(j.Provider,{value:e,children:t})},R=()=>i.useContext(j),$=t=>{const e=R(),r=i.useRef(null);return i.useEffect(()=>{e.current&&fetch(t).then(n=>n.arrayBuffer()).then(n=>e.current.decodeAudioData(n)).then(n=>{r.current=n,console.log("Loaded",t)}).catch(console.error)},[e.current,t]),r},m=t=>{const e=R(),r=$(t);return{play:i.useCallback(()=>{if(!e.current||!r.current)return;e.current.state=="suspended"&&e.current.resume();const s=e.current.createBufferSource();s.buffer=r.current,s.connect(e.current.destination),s.start(0)},[e])}},_=(t,e,r)=>{t.style.transform=`translate(${e.x-11}px, ${e.y-11+window.scrollY}px)`,t.style.zIndex=r?r.toString():""},ee=t=>{const e=t.getBoundingClientRect(),r=32,n=window.innerWidth,s=window.innerHeight;let u=0,o=0;e.left<r?u=e.left-r:e.right>n-r&&(u=e.right-(n-r)),e.top<r?o=e.top-r:e.bottom>s-r&&(o=e.bottom-(s-r)),(u!==0||o!==0)&&window.scrollBy({left:u,top:o,behavior:"smooth"})},te=(t,e)=>{let r=e.getAttribute("data-pos")||"center",n=e.getBoundingClientRect();const s=(E,g)=>{let v=e.getAttribute(E);return v!==null&&!isNaN(Number(v))?Number(v):g};let u=s("data-zindex",0);const o=4;let c=s("data-mt",o),a=s("data-mb",o),f=s("data-ml",o),l=s("data-mr",o),d="center",P="center";if(r!="center"){if(r?.includes("-")){let[E,g]=r.split("-");d=E.replace("left","start").replace("right","end"),P=g.replace("top","start").replace("bottom","end")}}let h;if(d=="center")h=n.x+n.width/2+l-f;else if(d=="start")h=n.x-f;else if(d=="end")h=n.x+n.width+l;else throw new Error("Invalid state");let D;if(P=="center")D=n.y+n.height/2+c-a;else if(P=="start")D=n.y-c;else if(P=="end")D=n.y+n.height+a;else throw new Error("Invalid state");_(t,{x:h,y:D},u)};function re(t,e,r){const n=t.current?.getBoundingClientRect(),s=n?x(n.left+n.width/2,n.top+n.height/2):x();[...e].map(c=>{if(!c.current)return null;const a=c.current.getBoundingClientRect(),f=x(a.left+a.width/2,a.top+a.height/2),l=J(f,s),d=Math.hypot(l.x,l.y),P=Math.atan2(l.y,l.x);return{ref:c,delta:l,dist:d,angle:P}}).filter(c=>c!==null);let u=1/0,o=null;for(const c of e){if(!c.current||c.current===t.current)continue;const a=c.current.getBoundingClientRect(),f=x(a.left+a.width/2,a.top+a.height/2),l=x(f.x-s.x,f.y-s.y);let d=!1;if(r==="up"&&l.y<-5&&Math.abs(l.x)<a.width*1.5&&(d=!0),r==="down"&&l.y>5&&Math.abs(l.x)<a.width*1.5&&(d=!0),r==="left"&&l.x<-5&&Math.abs(l.y)<a.height*1.5&&(d=!0),r==="right"&&l.x>5&&Math.abs(l.y)<a.height*1.5&&(d=!0),!d)continue;const P=q(s,f);P<u&&(u=P,o=c)}return o}const ne="data:audio/wav;base64,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",se="/assets/UndertaleMenuDecision-DoSLgTJY.wav",oe=i.createContext({ref:{current:null},selectables:new Set,setSelected:z}),ye=({children:t})=>{const e=i.useRef(null),r=V(),{play:n}=m(ne),{play:s}=m(se),u=i.useRef(null),o=a=>{u.current=a?.current??null,e?.current&&u.current&&(n(),te(e.current,u.current))},c=a=>{const f=re(u,r,a);f&&(o(f),f.current&&ee(f.current))};return C([["ArrowUp",()=>c("up")],["w",()=>c("up")],["ArrowDown",()=>c("down")],["s",()=>c("down")],["ArrowLeft",()=>c("left")],["a",()=>c("left")],["ArrowRight",()=>c("right")],["d",()=>c("right")],["Enter",()=>{let a=u.current?.firstChild;a&&(s(),a.click())}]]),w.jsx(oe.Provider,{value:{ref:e,selectables:r,setSelected:o},children:t})},G={showTerminal:!1,showDevice:!1,showPamphlet:!0},T=i.createContext([G,()=>{}]),pe=({children:t})=>{const[e,r]=i.useState(G);return w.jsx(T.Provider,{value:[e,n=>r({...e,...n})],children:t})},Ae=()=>i.useContext(T);export{pe as A,we as B,fe as F,le as L,oe as S,Pe as U,he as W,de as a,De as b,ye as c,C as d,Ae as e,m as f,xe as g,ie as u,x as v};
