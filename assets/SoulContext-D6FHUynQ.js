import{a as c,p as A}from"./chunk-PVWAREVJ-DMJuIWfk.js";import{a as T}from"./LanguageContext-qxbDpZhL.js";const v=()=>{},H={" ":"space",ArrowLeft:"arrowleft",ArrowRight:"arrowright",ArrowUp:"arrowup",ArrowDown:"arrowdown",Escape:"escape",Esc:"escape",esc:"escape",Enter:"enter",Tab:"tab",Backspace:"backspace",Delete:"delete",Insert:"insert",Home:"home",End:"end",PageUp:"pageup",PageDown:"pagedown","+":"plus","-":"minus","*":"asterisk","/":"slash"};function y(t){const e=t.replace("Key","").toLowerCase();return H[t]||e}function z(t){const e=t.toLowerCase().split("+").map(a=>a.trim()),r={alt:e.includes("alt"),ctrl:e.includes("ctrl"),meta:e.includes("meta"),mod:e.includes("mod"),shift:e.includes("shift"),plus:e.includes("[plus]")},n=["alt","ctrl","meta","shift","mod"],o=e.find(a=>!n.includes(a));return{...r,key:o==="[plus]"?"+":o}}function I(t,e,r){const{alt:n,ctrl:o,meta:a,mod:s,shift:u,key:P}=t,{altKey:l,ctrlKey:i,metaKey:d,shiftKey:f,key:D,code:x}=e;if(n!==l)return!1;if(s){if(!i&&!d)return!1}else if(o!==i||a!==d)return!1;return u!==f?!1:!!(P&&(r?y(x)===y(P):y(D??x)===y(P)))}function L(t,e){return r=>I(z(t),r,e)}function O(t,e,r=!1){return t.target instanceof HTMLElement?(r||!t.target.isContentEditable)&&!e.includes(t.target.tagName):!0}function B(t,e=["INPUT","TEXTAREA","SELECT"],r=!1){c.useEffect(()=>{const n=o=>{t.forEach(([a,s,u={preventDefault:!0,usePhysicalKeys:!1}])=>{L(a,u.usePhysicalKeys)(o)&&O(o,e,r)&&(u.preventDefault&&o.preventDefault(),s(o))})};return document.documentElement.addEventListener("keydown",n),()=>document.documentElement.removeEventListener("keydown",n)},[t])}const X=()=>c.useContext(T),te=t=>{const{language:e}=X(),o=t[e].split(/(#\w+#)/).map((a,s)=>{if(a[0]=="#"&&a[a.length-1]=="#"){const u=a.substring(1,a.length-1);return u in t||console.warn(`[@alan404/react-localization > Localized] Interpolation with key '${u}' not defined in props. If this is intentional, define it in props with undefined or null.`),A.jsx(c.Fragment,{children:t[u]},s)}else return A.jsx("span",{children:a},s)});return A.jsx(c.Fragment,{children:o})},b={farewellBackground:!0,displayName:!0,displayDiscordGuild:!0,displayAboutMe:!0,displayPreviousWork:!0,displayBadges:!0,displayFeaturedProjects:!0,displayFriends:!0,displayNeoFetch:!0,displayUptime:!0,myBurdenIsDead:!1},Q=c.createContext({...b,enable:()=>{},disable:()=>{},toggle:()=>{}}),re=({children:t})=>{const[e,r]=c.useState(b),n=s=>r(u=>({...u,[s]:!0})),o=s=>r(u=>({...u,[s]:!1})),a=s=>r(u=>({...u,[s]:!u[s]}));return A.jsx(Q.Provider,{value:{...e,enable:n,disable:o,toggle:a},children:t})},ne=()=>c.useContext(Q),k={showTerminal:!1,showDevice:!1,showPamphlet:!1,showPamphletV2:!0,showWD:!1,rain:!1},F=c.createContext([k,()=>{}]),se=({children:t})=>{const[e,r]=c.useState(k);return A.jsx(F.Provider,{value:[e,n=>r({...e,...n})],children:t})},oe=()=>c.useContext(F),G={type:"oneshot"},j=c.createContext([G,()=>{}]),ae=({children:t})=>{const[e,r]=c.useState(G);return B([["1",()=>r({type:"starfield"})],["2",()=>r({type:"depth"})],["3",()=>r({type:"man"})],["0",()=>r({type:"null"})],["4",()=>r({type:"oneshot"})]]),A.jsx(j.Provider,{value:[e,r],children:t})},ce=()=>c.useContext(j),M=t=>w(t,t),w=(t,e)=>typeof t=="object"&&t!==null?{x:t.x||0,y:t.y||0}:{x:t||0,y:e||0},E=t=>typeof t=="object"&&t?w(t):M(t),N=(...t)=>t.map(E).reduce((e,r)=>w(e.x+r.x,e.y+r.y)),V=(...t)=>t.map(E).reduce((e,r)=>w(e.x*r.x,e.y*r.y)),K=(t,e)=>N(t,V(e,-1)),ue=(t,e)=>{let r=E(t),n=E(e);return w(r.x/n.x,r.y/n.y)};w(0,0);w(1,1);const R=c.createContext({current:null}),le=({children:t})=>{const e=c.useRef(null);return c.useEffect(()=>(e.current=new AudioContext,()=>void e.current?.close()),[]),A.jsx(R.Provider,{value:e,children:t})},S=()=>c.useContext(R),U=t=>{const e=S(),r=c.useRef(null);return c.useEffect(()=>{e.current&&fetch(t).then(n=>n.arrayBuffer()).then(n=>e.current.decodeAudioData(n)).then(n=>{r.current=n,console.log("Loaded",t)}).catch(console.error)},[e.current,t]),r},m=t=>{const e=S(),r=U(t);return{play:c.useCallback(()=>{if(!e.current||!r.current)return;e.current.state=="suspended"&&e.current.resume();const o=e.current.createBufferSource();o.buffer=r.current,o.connect(e.current.destination),o.start(0)},[e])}},C=(t,{pos:e,zIndex:r,opacity:n,blur:o})=>{e&&(t.style.transform=`translate(${e.x-11}px, ${e.y-11+window.scrollY}px)`),r!==void 0&&(t.style.zIndex=r?r.toString():""),n!==void 0&&(t.style.opacity=n.toString()),t.style.setProperty("--blur",o?"1":"0")},Y=t=>{const e=t.getBoundingClientRect(),r=32,n=window.innerWidth,o=window.innerHeight;let a=0,s=0;e.left<r?a=e.left-r:e.right>n-r&&(a=e.right-(n-r)),e.top<r?s=e.top-r:e.bottom>o-r&&(s=e.bottom-(o-r)),(a!==0||s!==0)&&window.scrollBy({left:a,top:s,behavior:"smooth"})},W=t=>{let e=t.getAttribute("data-pos")||"center",r=t.getBoundingClientRect(),n=!!t.getAttribute("data-blur");const o=(g,h)=>{let p=t.getAttribute(g);return p!==null&&!isNaN(Number(p))?Number(p):h};let a=o("data-zindex",0);const s=4;let u=o("data-mt",s),P=o("data-mb",s),l=o("data-ml",s),i=o("data-mr",s),d="center",f="center";if(e!="center"){if(e?.includes("-")){let[g,h]=e.split("-");d=g.replace("left","start").replace("right","end"),f=h.replace("top","start").replace("bottom","end")}}let D;if(d=="center")D=r.x+r.width/2+i-l;else if(d=="start")D=r.x-l;else if(d=="end")D=r.x+r.width+i;else throw new Error("Invalid state");let x;if(f=="center")x=r.y+r.height/2+u-P;else if(f=="start")x=r.y-u;else if(f=="end")x=r.y+r.height+P;else throw new Error("Invalid state");return{pos:w(D,x),zIndex:a,blur:n}};function Z(t,e,r){const n=t?.getBoundingClientRect(),o=n?w(n.left+n.width/2,n.top+n.height/2):w(),s=e.map(l=>{if(l==t)return null;const i=l.getBoundingClientRect(),d=w(i.left+i.width/2,i.top+i.height/2),f=K(d,o),D=Math.hypot(f.x,f.y);let x=Math.atan2(f.y,f.x);const g=["right","down","left","up"][Math.round((x+Math.PI*2)%(Math.PI*2)/(Math.PI/2))%4];return{node:l,delta:f,dist:D,angle:x,direction:g}}).filter(l=>l!==null).sort((l,i)=>l.dist-i.dist).filter(l=>{if(r=="down")return l.delta.y>0;if(r=="up")return l.delta.y<0;if(r=="left")return l.delta.x<0;if(r=="right")return l.delta.x>0}),u=s.find(l=>l.direction=="up"||l.direction=="down"?l.delta.x==0:l.delta.y==0);return u?u.node:s[0]?.node??null}const J="data:audio/wav;base64,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",q="/assets/UndertaleMenuDecision-DoSLgTJY.wav",$=c.createContext({ref:{current:null},selectables:[],setSelected:v,registerSelectable:v}),ie=({children:t})=>{const e=c.useRef(null),[r,n]=c.useState([]),{play:o}=m(J),{play:a}=m(q),s=c.useRef(null),u=i=>{let d=s.current,f=d!==i;if(s.current=i??null,f&&d?.removeAttribute("data-soul-selected"),s.current?.setAttribute("data-soul-selected","true"),!!e.current)if(s.current){f&&o(),s.current.focus();const{...D}=W(s.current);C(e.current,{opacity:1,...D})}else C(e.current,{pos:w(),opacity:0})},P=i=>{const d=Z(s.current,r,i);d&&(u(d),d&&Y(d))};B([["ArrowUp",()=>P("up")],["w",()=>P("up")],["ArrowDown",()=>P("down")],["s",()=>P("down")],["ArrowLeft",()=>P("left")],["a",()=>P("left")],["ArrowRight",()=>P("right")],["d",()=>P("right")],["Enter",()=>{let i=s.current?.firstChild;i&&(a(),i.click())}]]),c.useEffect(()=>{s.current&&!r.includes(s.current)&&u(null)},[r]);const l=c.useCallback(i=>{const d=new AbortController;return d.signal,n(f=>f.includes(i)?f:[...f,i]),()=>{n(f=>f.filter(D=>D!==i)),d.abort()}},[]);return A.jsx($.Provider,{value:{ref:e,selectables:r,registerSelectable:l,setSelected:u},children:t})};export{se as A,ae as B,re as F,te as L,$ as S,le as W,N as a,V as b,ue as c,ce as d,oe as e,ie as f,m as g,B as h,ne as u,w as v};
